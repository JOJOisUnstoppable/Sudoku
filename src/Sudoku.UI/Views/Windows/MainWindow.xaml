<Window
	x:Class="Sudoku.UI.Views.Windows.MainWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:dts="using:Sudoku.UI.Data.DataTemplateSelectors"
	xmlns:m="using:Sudoku.UI.Models"
	mc:Ignorable="d">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition />
		</Grid.RowDefinitions>

		<!--Title Bar-->
		<Grid x:Name="_cAppTitleBar" Grid.Row="0" Height="64" Loaded="AppTitleBar_Loaded">
			<Grid.ColumnDefinitions>
				<ColumnDefinition x:Name="_cLeftPaddingColumn" Width="0" />
				<ColumnDefinition x:Name="_cIconColumn" Width="Auto" />
				<ColumnDefinition x:Name="_cTitleColumn" Width="Auto" />
				<ColumnDefinition x:Name="_cLeftDragColumn" Width="*" />
				<ColumnDefinition x:Name="_cSearchColumn" Width="Auto" />
				<ColumnDefinition x:Name="_cRightDragColumn" Width="*" />
				<ColumnDefinition x:Name="_cRightPaddingColumn" Width="0" />
			</Grid.ColumnDefinitions>
			<Image
				x:Name="_cTitleBarIcon" Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center"
				Source="/Assets/images/logo.png" Width="44" Height="44" Margin="12,0,0,0" />
			<TextBlock
				x:Name="_cTitleTextBlock" Grid.Column="2" Text="{StaticResource ProgramName}"
				Style="{StaticResource CaptionTextBlockStyle}" VerticalAlignment="Center" Margin="12,0,0,0" />
			<AutoSuggestBox
				Grid.Column="4" QueryIcon="Find" PlaceholderText="{StaticResource MainPage_Search}" Width="260"
				Margin="4,0" VerticalAlignment="Center" TextChanged="AutoSuggestBox_TextChanged"
				SuggestionChosen="AutoSuggestBox_SuggestionChosen">
				<AutoSuggestBox.ItemTemplateSelector>
					<dts:SearchedResultItemTemplateSelector>
						<dts:SearchedResultItemTemplateSelector.PairInfoTemplate>
							<DataTemplate x:DataType="m:SearchedResult">
								<StackPanel Orientation="Vertical">
									<TextBlock
										Text="{x:Bind Value}" Style="{ThemeResource BodyTextBlockStyle}"
										TextWrapping="WrapWholeWords" />
									<TextBlock
										Text="{x:Bind Location}" Style="{ThemeResource CaptionTextBlockStyle}"
										TextWrapping="WrapWholeWords" />
								</StackPanel>
							</DataTemplate>
						</dts:SearchedResultItemTemplateSelector.PairInfoTemplate>
						<dts:SearchedResultItemTemplateSelector.DefaultTemplate>
							<DataTemplate x:DataType="x:String">
								<TextBlock Text="{x:Bind}" Style="{ThemeResource CaptionTextBlockStyle}" />
							</DataTemplate>
						</dts:SearchedResultItemTemplateSelector.DefaultTemplate>
					</dts:SearchedResultItemTemplateSelector>
				</AutoSuggestBox.ItemTemplateSelector>
			</AutoSuggestBox>
		</Grid>

		<!--#region Test code for fullscreen mode-->
		<!--
		The commented XAML code here is only used for testing on fullscreen and normal switching.
		The purpose of the code is that I want to make the program be fullscreen.
		The code may contain bug that I may fix if I want to enable it.
		-->
		<!--
		<StackPanel Grid.Row="1">
			<TextBlock Text="Content" Style="{ThemeResource TitleTextBlockStyle}" Margin="32,0,0,0"/>
			<StackPanel Grid.Row="1" VerticalAlignment="Center">
				<Button Margin="4" x:Name="_toCompactoverlay" Content="Enter CompactOverlay" Click="SwitchPresenter" />
				<Button Margin="4" x:Name="_toFullscreen" Content="Enter FullScreen" Click="SwitchPresenter" />
				<Button Margin="4" x:Name="_toOverlapped" Content="Revert to default (Overlapped)" Click="SwitchPresenter" />
			</StackPanel>
		</StackPanel>
		-->
		<!--#endregion-->

		<!--Navigation view-->
		<!--The control is the main item in the current window-->
		<NavigationView
			x:Name="_cViewRouter" Header="{StaticResource ProgramName}" IsBackButtonVisible="Collapsed"
			Grid.Row="1" IsBackEnabled="False" PaneDisplayMode="Left" IsSettingsVisible="False"
			Loaded="ViewRouter_Loaded" ItemInvoked="ViewRouter_ItemInvoked"
			SelectionChanged="ViewRouter_SelectionChanged">
			<NavigationView.MenuItems>
				<NavigationViewItemHeader Content="{StaticResource MainPage_Sudoku}" />
				<NavigationViewItem Icon="ViewAll" Tag="SudokuPage" Content="{StaticResource MainPage_PlayingAndAnalyzing}" />
				<NavigationViewItemHeader Content="{StaticResource MainPage_DocumentsAndReferences}" />
				<NavigationViewItem Icon="Bookmarks" Tag="DocumentationPage" Content="{StaticResource MainPage_Documentation}" />
			</NavigationView.MenuItems>
			<NavigationView.FooterMenuItems>
				<NavigationViewItem Icon="Setting" Tag="SettingsPage" Content="{StaticResource MainPage_Settings}" />
				<NavigationViewItem Icon="People" Tag="AboutPage" Content="{StaticResource MainPage_About}" />
			</NavigationView.FooterMenuItems>

			<Frame
				x:Name="_cViewRouterFrame" Navigated="ViewRouterFrame_Navigated"
				NavigationFailed="ViewRouterFrame_NavigationFailed" />
		</NavigationView>
	</Grid>
</Window>
